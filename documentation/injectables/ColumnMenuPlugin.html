<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ngx-cerious-widgets documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">ngx-cerious-widgets documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ColumnMenuPlugin</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#gridApi" >gridApi</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#menuButton" >menuButton</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#menuElement" >menuElement</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#renderer" >renderer</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#closeMenu" >closeMenu</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#groupBy" >groupBy</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#initializeColumnMenus" >initializeColumnMenus</a>
                            </li>
                            <li>
                                <a href="#onDestroy" >onDestroy</a>
                            </li>
                            <li>
                                <a href="#onInit" >onInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#openMenu" >openMenu</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#toggleColumnPin" >toggleColumnPin</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateColumnOrder" >updateColumnOrder</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(rendererFactory: RendererFactory2)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:12</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>rendererFactory</td>
                                                  
                                                        <td>
                                                                    <code>RendererFactory2</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeMenu"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>closeMenu</b></span>
                        <a href="#closeMenu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>closeMenu()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="88"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:88</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Closes the column menu by removing it from the DOM and clearing its reference.</p>
<p>This method checks if the <code>menuElement</code> exists, and if so, removes it from the
document body using the renderer. After removal, the <code>menuElement</code> reference
is set to <code>null</code> to ensure proper cleanup.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="groupBy"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>groupBy</b></span>
                        <a href="#groupBy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>groupBy(option: <a href="../classes/MenuOption.html" target="_self">MenuOption</a>, column: <a href="../interfaces/ColumnDef.html" target="_self">ColumnDef</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="105"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:105</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggles the grouping state of a column in the grid.</p>
<p>If the specified column is already a group-by column, this method removes it from the group
and updates the menu option label to &quot;Group By&quot;. Otherwise, it adds the column to the group
and updates the menu option label to &quot;Ungroup&quot;.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>option</td>
                                            <td>
                                                            <code><a href="../classes/MenuOption.html" target="_self" >MenuOption</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The menu option associated with the column, used to update the label.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>column</td>
                                            <td>
                                                            <code><a href="../interfaces/ColumnDef.html" target="_self" >ColumnDef</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The column definition object representing the column to be grouped or ungrouped.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initializeColumnMenus"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>initializeColumnMenus</b></span>
                        <a href="#initializeColumnMenus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initializeColumnMenus()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="217"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:217</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes column menus for the grid by dynamically creating menu buttons
for each column header. Each menu button provides options such as pinning
and grouping, depending on the grid&#39;s configuration.</p>
<ul>
<li>Skips columns without a <code>field</code> property.</li>
<li>Skips creating a menu button if one already exists for a column.</li>
</ul>
<p>Menu options:</p>
<ul>
<li><strong>Pin</strong>: Allows toggling the pinning state of the column (if <code>enablePinning</code> is enabled in grid options).</li>
<li><strong>Group By</strong>: Allows grouping by the column (if <code>enableGroupBy</code> is enabled in grid options).</li>
</ul>
<p>The menu button is styled and appended to the column header. Clicking the button
opens the menu with the defined options and toggles an active class for styling.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDestroy"></a>
                    <span class="name">
                        <span ><b>onDestroy</b></span>
                        <a href="#onDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDestroy()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="73"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:73</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Cleans up resources when the plugin is destroyed.</p>
<p>This method removes the menu button element from the DOM (if it exists)
and ensures the menu is closed to prevent memory leaks or unintended behavior.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onInit"></a>
                    <span class="name">
                        <span ><b>onInit</b></span>
                        <a href="#onInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onInit(api: <a href="../interfaces/GridApi.html" target="_self">GridApi</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="28"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:28</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes the plugin with the provided Grid API instance.</p>
<p>This method sets up the necessary configurations and event listeners for the column menu plugin.
It checks if the <code>enableColumnMenu</code> option is enabled in the plugin options before proceeding.
If enabled, it initializes the column menus and sets up listeners for column reorder and render events
to ensure the menus are updated accordingly.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>api</td>
                                            <td>
                                                            <code><a href="../interfaces/GridApi.html" target="_self" >GridApi</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The Grid API instance used to interact with the grid.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openMenu"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>openMenu</b></span>
                        <a href="#openMenu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>openMenu(column: <a href="../interfaces/ColumnDef.html" target="_self">ColumnDef</a>, menuButton: HTMLElement, options: <a href="../classes/MenuOption.html" target="_self">MenuOption[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="131"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:131</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Opens a dropdown menu for a specific column and attaches it to the DOM.</p>
<p>The menu is dynamically created and positioned relative to the <code>menuButton</code>.
Each menu option is rendered as a list item with a click listener that triggers
the associated callback and closes the menu.</p>
<p>The menu is automatically closed when clicking outside of it or on a menu option.
A global click listener is added to handle this behavior.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>column</td>
                                            <td>
                                                            <code><a href="../interfaces/ColumnDef.html" target="_self" >ColumnDef</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The column definition for which the menu is being opened.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>menuButton</td>
                                            <td>
                                                        <code>HTMLElement</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The HTML button element that triggers the menu.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>options</td>
                                            <td>
                                                            <code><a href="../classes/MenuOption.html" target="_self" >MenuOption[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>An array of menu options, each containing a label and a callback function.</li>
</ul>
<p>The menu is dynamically created and positioned relative to the <code>menuButton</code>.
Each menu option is rendered as a list item with a click listener that triggers
the associated callback and closes the menu.</p>
<p>The menu is automatically closed when clicking outside of it or on a menu option.
A global click listener is added to handle this behavior.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleColumnPin"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>toggleColumnPin</b></span>
                        <a href="#toggleColumnPin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>toggleColumnPin(option: <a href="../classes/MenuOption.html" target="_self">MenuOption</a>, column: <a href="../interfaces/ColumnDef.html" target="_self">ColumnDef</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="315"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:315</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggles the pinned state of a column and its child columns, updates the menu item label,
and re-renders the grid to reflect the changes.</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">            to reflect the new pinned state (&quot;Pin&quot; or &quot;Un-Pin&quot;).
            has child columns, their pinned states will also be updated recursively.</code></pre></div><p>This method updates the <code>pinned</code> property of the column and its children, modifies the menu
option label, and triggers grid re-rendering by calling <code>this.gridApi.updateToggledPinnedCols()</code>.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>option</td>
                                            <td>
                                                            <code><a href="../classes/MenuOption.html" target="_self" >MenuOption</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The menu option associated with the column pin action. Its label will be updated
to reflect the new pinned state (&quot;Pin&quot; or &quot;Un-Pin&quot;).</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>column</td>
                                            <td>
                                                            <code><a href="../interfaces/ColumnDef.html" target="_self" >ColumnDef</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The column definition object whose pinned state is being toggled. If the column
has child columns, their pinned states will also be updated recursively.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateColumnOrder"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>updateColumnOrder</b></span>
                        <a href="#updateColumnOrder"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateColumnOrder()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="348"
                                    class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:348</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the order of columns in the grid by separating pinned and unpinned columns.
Pinned columns are placed before unpinned columns in the updated column definitions.</p>
<p>This method retrieves the current column definitions from the grid API, filters them
into pinned and unpinned groups, and then updates the grid&#39;s column definitions
to reflect the new order.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="gridApi"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>gridApi</b></span>
                        <a href="#gridApi"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/GridApi.html" target="_self" >GridApi</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="10" class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:10</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="menuButton"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>menuButton</b></span>
                        <a href="#menuButton"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLButtonElement</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="9" class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:9</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="menuElement"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>menuElement</b></span>
                        <a href="#menuElement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>HTMLElement | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:12</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renderer"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>renderer</b></span>
                        <a href="#renderer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Renderer2</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="11" class="link-to-prism">projects/ngx-cerious-widgets/src/lib/cerious-widgets/grid/plugins/column-menu.plugin.ts:11</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, Renderer2, RendererFactory2 } from &#x27;@angular/core&#x27;;
import { GridPlugin } from &#x27;../interfaces/grid-plugin&#x27;;
import { GridApi } from &#x27;../interfaces/grid-api&#x27;;
import { ColumnDef } from &#x27;../interfaces/column-def&#x27;;
import { MenuOption } from &#x27;../models/menu-option&#x27;;

@Injectable()
export class ColumnMenuPlugin implements GridPlugin {
  private menuButton!: HTMLButtonElement;
  private gridApi!: GridApi;
  private renderer: Renderer2;
  private menuElement: HTMLElement | null &#x3D; null;

  constructor(private rendererFactory: RendererFactory2) {
    this.renderer &#x3D; this.rendererFactory.createRenderer(null, null);
  }

  /**
   * Initializes the plugin with the provided Grid API instance.
   * 
   * This method sets up the necessary configurations and event listeners for the column menu plugin.
   * It checks if the &#x60;enableColumnMenu&#x60; option is enabled in the plugin options before proceeding.
   * If enabled, it initializes the column menus and sets up listeners for column reorder and render events
   * to ensure the menus are updated accordingly.
   * 
   * @param api - The Grid API instance used to interact with the grid.
   */
  onInit(api: GridApi): void {
    this.gridApi &#x3D; api;
  
    // Check if the pluginOptions include &#x60;enableColumnMenu&#x60;
    const pluginOptions &#x3D; this.gridApi.getPluginOptions();
    if (!pluginOptions?.[&#x27;ColumnMenu&#x27;]?.enableColumnMenu) {
      return; // Do not add the buttons if &#x60;enableColumnMenu&#x60; is not enabled
    }
  
    // Initialize the column menus
    this.initializeColumnMenus();
  
    // Listen for column reorder events
    this.gridApi.afterColumnReorder(() &#x3D;&gt; {
      this.initializeColumnMenus(); // Reinitialize menus after column reorder
    });

    this.gridApi.onColumnVisibilityChange(() &#x3D;&gt; {
      this.initializeColumnMenus(); // Reinitialize menus after column visibility change
    });

    this.gridApi.afterRender(() &#x3D;&gt; {
      this.initializeColumnMenus(); // Reinitialize the column menus after rendering
    });

    this.gridApi.afterGroupBy(() &#x3D;&gt; {
      this.initializeColumnMenus(); // Reinitialize the column menus after grouping
    });

    // Add event listeners for resize and scroll
    this.gridApi.afterResize(() &#x3D;&gt; {
      this.closeMenu();
    });

    this.gridApi.afterScroll(() &#x3D;&gt; {
      this.closeMenu();
    });
  }

  /**
   * Cleans up resources when the plugin is destroyed.
   * 
   * This method removes the menu button element from the DOM (if it exists)
   * and ensures the menu is closed to prevent memory leaks or unintended behavior.
   */
  onDestroy(): void {
    this.menuButton?.remove();
    this.closeMenu();
  }


  /**
   * Closes the column menu by removing it from the DOM and clearing its reference.
   * 
   * This method checks if the &#x60;menuElement&#x60; exists, and if so, removes it from the
   * document body using the renderer. After removal, the &#x60;menuElement&#x60; reference
   * is set to &#x60;null&#x60; to ensure proper cleanup.
   * 
   * @private
   */
  private closeMenu(): void {
    if (this.menuElement) {
      this.renderer.removeChild(document.body, this.menuElement);
      this.menuElement &#x3D; null; // Clear the reference
    }
  }

  /**
   * Toggles the grouping state of a column in the grid.
   * 
   * If the specified column is already a group-by column, this method removes it from the group
   * and updates the menu option label to &quot;Group By&quot;. Otherwise, it adds the column to the group
   * and updates the menu option label to &quot;Ungroup&quot;.
   * 
   * @param option - The menu option associated with the column, used to update the label.
   * @param column - The column definition object representing the column to be grouped or ungrouped.
   */
  private groupBy(option: MenuOption, column: ColumnDef): void {
    if (this.gridApi.getGroupByColumns().includes(column)) {
      // If the column is already a group by column, remove it from the group
      this.gridApi.removeGroupByColumn(column);
      option.label &#x3D; &#x27;Group By&#x27;; // Update the label
    } else {
      // If the column is not a group by column, add it to the group
      this.gridApi.addGroupByColumn(column);
      option.label &#x3D; &#x27;Ungroup&#x27;; // Update the label
    }
  }
  
  /**
   * Opens a dropdown menu for a specific column and attaches it to the DOM.
   * 
   * @param column - The column definition for which the menu is being opened.
   * @param menuButton - The HTML button element that triggers the menu.
   * @param options - An array of menu options, each containing a label and a callback function.
   * 
   * The menu is dynamically created and positioned relative to the &#x60;menuButton&#x60;.
   * Each menu option is rendered as a list item with a click listener that triggers
   * the associated callback and closes the menu.
   * 
   * The menu is automatically closed when clicking outside of it or on a menu option.
   * A global click listener is added to handle this behavior.
   */
  private openMenu(column: ColumnDef, menuButton: HTMLElement, options: MenuOption[]): void {
    // Close the existing menu if it exists
    this.closeMenu();

    setTimeout(() &#x3D;&gt; {
      // Create the dropdown menu
      const menu &#x3D; this.renderer.createElement(&#x27;div&#x27;);
      this.renderer.addClass(menu, &#x27;cw-dropdown-menu&#x27;);
      this.renderer.setAttribute(menu, &#x27;role&#x27;, &#x27;menu&#x27;);
      this.renderer.setAttribute(menu, &#x27;aria-label&#x27;, &#x60;Options for column ${column.label || column.field}&#x60;);

      // Add menu options
      const menuOptions &#x3D; this.renderer.createElement(&#x27;ul&#x27;);
      this.renderer.setAttribute(menuOptions, &#x27;role&#x27;, &#x27;menu&#x27;);
      options.forEach((option) &#x3D;&gt; {
        const listItem &#x3D; this.renderer.createElement(&#x27;li&#x27;);
        this.renderer.setStyle(listItem, &#x27;cursor&#x27;, &#x27;pointer&#x27;);
        this.renderer.setStyle(listItem, &#x27;padding&#x27;, &#x27;6px&#x27;);
        this.renderer.setAttribute(listItem, &#x27;role&#x27;, &#x27;menuitem&#x27;);
        this.renderer.setAttribute(listItem, &#x27;aria-label&#x27;, option.label);

        // Add the label text
        const labelText &#x3D; this.renderer.createText(option.label);
        this.renderer.appendChild(listItem, labelText);

        // Add click listener for the option
        this.renderer.listen(listItem, &#x27;click&#x27;, () &#x3D;&gt; {
          option.callback(option, column); // Trigger the callback
          this.closeMenu(); // Close the menu after the option is clicked
          menuButton.classList.remove(&#x27;active&#x27;); // Remove active class for styling
        });

        // Append the list item to the menu options
        this.renderer.appendChild(menuOptions, listItem);
      });

      // Append the menu options to the menu
      this.renderer.appendChild(menu, menuOptions);

      // Append the menu to the body
      this.renderer.appendChild(document.body, menu);

      // Position the menu
      const buttonRect &#x3D; menuButton.getBoundingClientRect();
      const menuWidth &#x3D; menu.offsetWidth;
      this.renderer.setStyle(menu, &#x27;top&#x27;, &#x60;${buttonRect.bottom + 4}px&#x60;);
      this.renderer.setStyle(menu, &#x27;left&#x27;, &#x60;${buttonRect.right - menuWidth}px&#x60;);

      // Store the menu reference
      this.menuElement &#x3D; menu;

      // Add a global click listener to close the menu
      const closeHandler &#x3D; (event: MouseEvent) &#x3D;&gt; {
        if (
          this.menuElement &amp;&amp;
          !this.menuElement.contains(event.target as Node) &amp;&amp;
          event.target !&#x3D;&#x3D; menuButton
        ) {
          menuButton.classList.remove(&#x27;active&#x27;); // Remove active class
          this.closeMenu();
          document.removeEventListener(&#x27;click&#x27;, closeHandler);
        }
      };

      // Add the click listener
      document.addEventListener(&#x27;click&#x27;, closeHandler);
    });
  }

  /**
   * Initializes column menus for the grid by dynamically creating menu buttons
   * for each column header. Each menu button provides options such as pinning
   * and grouping, depending on the grid&#x27;s configuration.
   *
   * - Skips columns without a &#x60;field&#x60; property.
   * - Skips creating a menu button if one already exists for a column.
   *
   * Menu options:
   * - **Pin**: Allows toggling the pinning state of the column (if &#x60;enablePinning&#x60; is enabled in grid options).
   * - **Group By**: Allows grouping by the column (if &#x60;enableGroupBy&#x60; is enabled in grid options).
   *
   * The menu button is styled and appended to the column header. Clicking the button
   * opens the menu with the defined options and toggles an active class for styling.
   *
   * @private
   */
  private initializeColumnMenus(): void {
    // Get the column definitions
    const columnDefs &#x3D; this.gridApi.getColumnDefs();
    const flattenedDefs &#x3D; this.gridApi.getFlattenedColumnDefs();

    // Create a new array
    const columns &#x3D; [...columnDefs, ...flattenedDefs.filter((col) &#x3D;&gt; !columnDefs.includes(col))];

    // Create a menu button for each column
    columns.forEach((column) &#x3D;&gt; {
      if (!column.id) {
        return; // Skip columns without an ID
      }

      // Get the column header by ID
      const columnHeader &#x3D; this.gridApi.getColumnHeader(column.id);
      if (!columnHeader) {
        return; // Skip if the column header is not found
      }

      // Check if a menu button already exists
      const children &#x3D; this.renderer.selectRootElement(columnHeader.nativeElement, true).children;
      for (let i &#x3D; 0; i &lt; children.length; i++) {
        const child &#x3D; children[i];
        if (child.classList.contains(&#x27;column-menu-button&#x27;)) {
          // Remove the existing button
          this.renderer.removeChild(columnHeader.nativeElement, child);
          break;
        }
      }

      // Create the menu button
      const menuButton &#x3D; this.renderer.createElement(&#x27;div&#x27;);
      const innerTag &#x3D; this.renderer.createElement(&#x27;div&#x27;);
      this.renderer.appendChild(menuButton, innerTag);
      this.renderer.addClass(innerTag, &#x27;line&#x27;);
      this.renderer.addClass(menuButton, &#x27;hamburger-button&#x27;);
      this.renderer.addClass(menuButton, &#x27;column-menu-button&#x27;);
      this.renderer.setStyle(menuButton, &#x27;margin&#x27;, &#x27;0px 6px&#x27;);
      this.renderer.setStyle(menuButton, &#x27;padding&#x27;, &#x27;0px&#x27;);
      this.renderer.setStyle(menuButton, &#x27;cursor&#x27;, &#x27;pointer&#x27;);

      // Define the menu options
      const columnMenuOptions: MenuOption[] &#x3D; [];

      // Add option to toggle column pinning if the column does not have a parent
      if (!column.parent &amp;&amp; this.gridApi.getGridOptions().enablePinning &amp;&amp; column.pinnable !&#x3D;&#x3D; false) {
        columnMenuOptions.push(
          new MenuOption({
            label: column.pinned ? &#x27;Un-Pin&#x27; : &#x27;Pin&#x27;,
            callback: (option: MenuOption, column: ColumnDef) &#x3D;&gt; this.toggleColumnPin(option, column),
          })
        );
      }

      // Add option to toggle column group by if the column is not a parent
      if (!column.children?.length &amp;&amp; this.gridApi.getGridOptions().enableGroupBy &amp;&amp; column.groupable !&#x3D;&#x3D; false) {
        columnMenuOptions.push(
          new MenuOption({
            label: column.groupBy ? &#x27;Ungroup&#x27; : &#x27;Group By&#x27;,
            callback: (option: MenuOption, column: ColumnDef) &#x3D;&gt; this.groupBy(option, column),
          })
        );
      }

      // Add click event listener to open or close the menu for this column
      this.renderer.listen(menuButton, &#x27;click&#x27;, (event: MouseEvent) &#x3D;&gt; {
        event.stopPropagation(); // Prevent event bubbling

        if (menuButton.classList.contains(&#x27;active&#x27;)) {
          // If the menu is already open, close it
          this.closeMenu();
          menuButton.classList.remove(&#x27;active&#x27;); // Remove active class for styling
        } else {
          // If the menu is not open, open it
          this.openMenu(column, menuButton, columnMenuOptions);
          menuButton.classList.add(&#x27;active&#x27;); // Add active class for styling
        }
      });

      // Append the button to the column header
      this.renderer.appendChild(columnHeader.nativeElement, menuButton);
    });
  }

  /**
   * Toggles the pinned state of a column and its child columns, updates the menu item label,
   * and re-renders the grid to reflect the changes.
   *
   * @param option - The menu option associated with the column pin action. Its label will be updated
   *                 to reflect the new pinned state (&quot;Pin&quot; or &quot;Un-Pin&quot;).
   * @param column - The column definition object whose pinned state is being toggled. If the column
   *                 has child columns, their pinned states will also be updated recursively.
   *
   * @remarks
   * This method updates the &#x60;pinned&#x60; property of the column and its children, modifies the menu
   * option label, and triggers grid re-rendering by calling &#x60;this.gridApi.updateToggledPinnedCols()&#x60;.
   */
  private toggleColumnPin(option: MenuOption, column: ColumnDef): void {
    const togglePin &#x3D; (column: ColumnDef, pinned: boolean) &#x3D;&gt; {
      column.pinned &#x3D; pinned;
      if (column.children &amp;&amp; column.children.length &gt; 0) {
        // Recursively pin/unpin all child columns
        column.children.forEach((child) &#x3D;&gt; togglePin(child, pinned));
      }
    };

    const newPinnedState &#x3D; !column.pinned;
    togglePin(column, newPinnedState);

    // Update the menu item name
    option.label &#x3D; newPinnedState ? &#x27;Un-Pin&#x27; : &#x27;Pin&#x27;;

    this.updateColumnOrder();

    // Close the menu and re-render the grid
    this.gridApi.updateToggledPinnedCols();

    this.gridApi.resetScrollPosition();
  }

  /**
   * Updates the order of columns in the grid by separating pinned and unpinned columns.
   * Pinned columns are placed before unpinned columns in the updated column definitions.
   * 
   * This method retrieves the current column definitions from the grid API, filters them
   * into pinned and unpinned groups, and then updates the grid&#x27;s column definitions
   * to reflect the new order.
   * 
   * @private
   */
  private updateColumnOrder(): void {
    const columnDefs &#x3D; this.gridApi.getColumnDefs();
  
    // Separate pinned and unpinned columns
    const pinnedColumns &#x3D; columnDefs.filter(col &#x3D;&gt; col.pinned);
    const unpinnedColumns &#x3D; columnDefs.filter(col &#x3D;&gt; !col.pinned);
  
    // Update the grid&#x27;s column definitions
    this.gridApi.setColumnDefs([...pinnedColumns, ...unpinnedColumns]);
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ColumnMenuPlugin.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
